(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,o,r){var c=e.querySelector(".card").cloneNode(!0),u=c.querySelector(".card__title"),i=c.querySelector(".card__image"),p=c.querySelector(".card__delete-button"),a=c.querySelector(".card__like-button");return u.textContent=t.name,i.src=t.link,i.alt="На картинке ".concat(t.name),p.addEventListener("click",(function(){return n(c)})),a.addEventListener("click",(function(){return o(a)})),i.addEventListener("click",(function(){return r(i,u)})),c}function n(e){e.remove()}function o(e){e.classList.toggle("card__like-button_is-active")}function r(e,t){e.classList.add(t)}function c(e,t,n){e.addEventListener(t,n)}function u(e,t,n){e.removeEventListener(t,n)}function i(e){var t=document.querySelector(".popup_is-opened");"Escape"===e.key&&s(t)}function p(e){e.target.classList.contains(".popup__content")||s(e.target)}function a(e){r(e,"popup_is-opened"),c(document,"keydown",i),c(e,"click",p)}function s(e){e.classList.remove("popup_is-opened"),u(document,"keydown",i),u(e,"click",p)}function l(e){return/[^a-zа-яА-Я\sЁё\-]/gi.test(e.value)}function d(e,t,n,o){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(o.inputErrorClass),r.textContent=n,r.classList.add(o.inputErrorText)}function _(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),o.textContent="",o.classList.remove(n.inputErrorText)}function f(e,t,n){!function(e,t){return e.some((function(e){return e.validity.valid?l(e)&e!=document.querySelector(t.inputLink)?l(e):void 0:!e.validity.valid}))}(e,n)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):(t.disabled=!0,t.classList.add(n.inactiveButtonClass))}function m(e,t){var n=Array.from(e.querySelectorAll(t.popUpInput)),o=e.querySelector(t.submitButtonSelector);n.forEach((function(r){_(e,r,t),f(n,o,t)}))}var y=document.querySelector(".places__list"),v=document.querySelector(".profile__edit-button"),S=document.querySelector(".profile__add-button"),q=document.querySelectorAll(".popup"),k=document.querySelector(".popup_type_new-card"),E=document.querySelector(".popup_type_edit"),L=document.querySelector(".popup_type_image"),h=E.querySelector(".popup__close"),b=k.querySelector(".popup__close"),x=L.querySelector(".popup__close"),g=L.querySelector(".popup__image"),C=L.querySelector(".popup__caption"),j=k.querySelector(".popup__form"),A=j.querySelector(".popup__input_type_card-name"),B=j.querySelector(".popup__input_type_url"),U=E.querySelector(".popup__form"),w=U.querySelector(".popup__input_type_name"),T=U.querySelector(".popup__input_type_description"),z=document.querySelector(".profile__title"),I=document.querySelector(".profile__description"),D={popUpForms:document.querySelectorAll(".popup__form"),popUpInput:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button-inactive",inputErrorClass:"popup__input-error_active",inputErrorText:"popup__input-error-text_active",inputLink:"#link-input"};function F(e,t){g.src=e.src,g.alt="На картинке ".concat(t.textContent),C.textContent=t.textContent,a(L)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var r=t(e,n,o,F);y.append(r)})),q.forEach((function(e){r(e,"popup_is-animated")})),v.addEventListener("click",(function(){a(E),w.value=z.textContent,T.value=I.textContent,m(U,D)})),S.addEventListener("click",(function(){a(k),m(j,D)})),h.addEventListener("click",(function(){return s(E)})),b.addEventListener("click",(function(){s(k),m(j,D)})),x.addEventListener("click",(function(){return s(L)})),c(U,"submit",(function(e){e.preventDefault(),z.textContent=w.value,I.textContent=T.value,s(E),U.reset()})),c(j,"submit",(function(e){e.preventDefault();var r=t({name:A.value,link:B.value},n,o,F);y.prepend(r),s(k),j.reset()})),function(e){Array.from(e.popUpForms).forEach((function(t){!function(e,t){var n=Array.from(e.querySelectorAll(t.popUpInput)),o=e.querySelector(t.submitButtonSelector);n.forEach((function(r){r.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?l(t)&t!=document.querySelector(n.inputLink)?d(e,t,t.dataset.errorMessage,n):_(e,t,n):d(e,t,t.validationMessage,n)}(e,r,t),f(n,o,t)}))}))}(t,e)}))}(D),fetch("https://nomoreparties.co/v1/:wff-cohort-35/users/me",{method:"GET",headers:{authorization:"ffa59dc2-b1fc-45dc-afaf-4be126fab1b8"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))})();